=head1 NAME

Catalyst::Manual::Tutorial::Intro - Catalyst Tutorial - Part 1: Introduction


=head1 OVERVIEW

This is B<Part 2 of 10> for the Catalyst tutorial.

L<Tutorial Overview|Catalyst::Manual::Tutorial>

=over 4

=item 1

B<Introduction>

=item 2

L<Catalyst Basics|Catalyst::Manual::Tutorial::CatalystBasics>

=item 3

L<More Catalyst Basics|Catalyst::Manual::Tutorial::MoreCatalystBasics>

=item 4

L<Basic CRUD|Catalyst::Manual::Tutorial::BasicCRUD>

=item 5

L<Authentication|Catalyst::Manual::Tutorial::Authentication>

=item 6

L<Authorization|Catalyst::Manual::Tutorial::Authorization>

=item 7

L<Debugging|Catalyst::Manual::Tutorial::Debugging>

=item 8

L<Testing|Catalyst::Manual::Tutorial::Testing>

=item 9

L<Advanced CRUD|Catalyst::Manual::Tutorial::AdvancedCRUD>

=item 10

L<Appendices|Catalyst::Manual::Tutorial::Appendices>

=back


=head1 DESCRIPTION

This tutorial provides a multipart introduction to the Catalyst web
framework. It seeks to provide a rapid overview of many of its most
commonly used features. The focus is on the real-world best practices
required in the construction of nearly all Catalyst applications.

Although the primary target of the tutorial is users new to the Catalyst
framework, experienced users may wish to review specific sections (for
example, how to use DBIC for their model classes, how to add
authentication and authorization to an existing application, or form
management).

You can obtain the code for all the tutorial examples from the
catalyst subversion repository by issuing the command:

    svn co http://dev.catalyst.perl.org/repos/Catalyst/tags/examples/Tutorial/MyApp/5.7/ CatalystTutorial

This will download the current code for each tutorial chapter in the
CatalystTutorial directory.  Each example application directory has
the same name as the tutorial chapter.

B<These reference implementations are provided so that when you follow
the tutorial, you can use the code from the subversion repository to
ensure that your system is set up correctly, and that you have not
inadvertently made any typographic errors, or accidentally skipped
part of the tutorial.>

B<NOTE: You can use any perl-supported OS and environment to run 
Catalyst.> It should make little or no difference to Catalyst's 
operation, but this tutorial has been written using Ubuntu 8.04 
because that represents a quick and easy for most people to try out 
Catalyst with virtually zero setup time and hassles.  See the Catalyst 
installation section below for more information.

If you're reading this manual online, you can download the example 
program and all the necessary dependencies to your local machine by 
installing the C<Task::Catalyst::Tutorial> distribution from CPAN:

     cpan Task::Catalyst::Tutorial

This will also test to make sure the dependencies are working.  If you
have trouble installing these, please ask for help on the #catalyst
IRC channel, or the Catalyst mailing list.

Subjects covered by the tutorial include:

=over 4

=item * 

A simple application that lists and adds books.

=item *

The use of L<DBIx::Class|DBIx::Class> (DBIC) for the model.

=item * 

How to write CRUD (Create, Read, Update, and Delete) operations in
Catalyst.

=item *

Authentication ("auth").

=item * 

Role-based authorization ("authz").

=item * 

Attempts to provide an example showing current (5.7XXX) Catalyst
practices. For example, the use of 
L<Catalyst::Action::RenderView|Catalyst::Action::RenderView>,
DBIC, L<Catalyst::Plugin::ConfigLoader|Catalyst::Plugin::ConfigLoader> 
with C<myapp.conf>, the use of C<lib/MyApp/Controller/Root.pm> 
vs. C<lib/MyApp.pm>, etc.

=item * 

The use of Template Toolkit (TT) and the
L<Catalyst::Helper::View::TTSite|Catalyst::Helper::View::TTSite> 
view helper.

=item * 

Useful techniques for troubleshooting and debugging Catalyst
applications.

=item * 

The use of SQLite as a database (with code also provided for MySQL and
PostgreSQL).

=item * 

The use of L<HTML::FormFu|HTML::FormFu> for automated form processing 
and validation.

=back

This tutorial makes the learning process its main priority.  For
example, the level of comments in the code found here would likely be
considered excessive in a "normal project."  Because of their contextual
value, this tutorial will generally favor inline comments over a
separate discussion in the text.  It also deliberately tries to
demonstrate multiple approaches to various features (in general, you
should try to be as consistent as possible with your own production
code).

Furthermore, this tutorial tries to minimize the number of controllers,
models, TT templates, and database tables.  Although this does result in
things being a bit contrived at times, the concepts should be applicable
to more complex environments.  More complete and complicated example
applications can be found in the C<examples> area of the Catalyst
Subversion repository at
L<http://dev.catalyst.perl.org/repos/Catalyst/trunk/examples/>.

B<Note:> There are a variety of other introductory materials available
through the Catalyst web site and at
L<http://dev.catalyst.perl.org/wiki/UserIntroductions> and
L<http://dev.catalyst.perl.org/>.

=head1 VERSIONS AND CONVENTIONS USED IN THIS TUTORIAL

This tutorial was built using the following resources. Please note that
you may need to make adjustments for different environments and
versions:

=over 4

=item * 

Ubuntu 8.04 Hardy Heron

=item * 

Catalyst v5.7011

=item *

Catalyst::Devel v1.03

=item * 

DBIx::Class v0.08008

=item * 

Catalyst Plugins

The plugins used in this tutorial all have sufficiently stable APIs that
you shouldn't need to worry about versions. However, there could be
cases where the tutorial is affected by what version of plugins you
use. This tutorial has been tested against the following set of plugins:

=over 4

=item * 

Catalyst::Plugin::Authentication -- v0.10002

=item *

Catalyst::Plugin::Authentication::Store::DBIC -- v0.09

=item *

Catalyst::Plugin::Authorization::ACL -- v0.08

=item *

Catalyst::Plugin::Authorization::Roles -- v0.05

=item *

Catalyst::Plugin::ConfigLoader -- v0.17

=item *

Catalyst::Plugin::Session -- v0.18

=item *

Catalyst::Plugin::Session::State::Cookie -- v0.08

=item *

Catalyst::Plugin::Session::Store::FastMmap -- v0.03

=item *

Catalyst::Plugin::StackTrace -- v0.06

=item *

Catalyst::Plugin::Static::Simple -- v0.20

=back

=item * 

Since the web browser is being used on the same box where Perl and the
Catalyst development server is running, the URL of
C<http://localhost:3000> will be used (the Catalyst development server
defaults to port 3000).  If you are running Perl on a different box than
where your web browser is located (or using a different port number via
the C<-p> I<port_number> option to the development server), then you
will need to update the URL you use accordingly.

=item * 

Depending on the web browser you are using, you might need to hit
C<Shift+Reload> to pull a fresh page when testing your application at
various points.  Also, the C<-k> keepalive option to the development
server can be necessary with some browsers (especially Internet
Explorer).

=back

=head1 CATALYST INSTALLATION

If approach in the wrong manner, it can be a daunting tasks to get
Catalyst initially installed.  Although a compelling strength of
Catalyst is that it makes use of many of the modules in the
vast repository that is CPAN, this can complicate the installation
process.  However, there are a growing number of methods 
that can dramatically ease this undertaking.  Of these, the following 
are likely to be applicable to the largest number of potential new 
users:

=over 4

=item *

Ubuntu

Given the popularity of Ubuntu and it's ease of use, Ubuntu can be 
a great way for newcomers to experiment with Catalyst.  Because it 
is a "live CD," you can simply boot from the CD, run a few commands,
and you should have a fully functional environment in which to do 
this tutorial in a matter of minutes.  

=over 4

=item * 

Download Ubuntu 8.04 (aka, Hardy Heron) Desktop edition and boot from 
the CD and/or image file, select your language, and then "Try Ubuntu 
without any changes to your computer."

=item *

Open a terminal session (click "Applications" in the upper-left 
corner, then "Accessories," then "Terminal").

=item *

Add the 'universe' repositories:

    sudo gedit /etc/apt/sources.list

And remove the comments from the lines under the comments about the
'universe' repositories.

=item *

Install Catalyst:

    sudo apt-get update
    sudo apt-get install libdbd-sqlite3-perl libcatalyst-perl libcatalyst-modules-perl libconfig-general-perl

Accept all of the dependencies.  Done.

NOTE: If you are low on disk space after the above commands (use C<df /> 
to tell), you can free up some space with 
C<sudo rm /var/cache/apt/archives/*.deb> (the Live CD uses memory for 
disk space, so having a decent amount of memory will help).  And, 
while the instructions above mention the Live CD because that makes it 
easy for people new to Linux, you can obviously also use one of the 
options to install Ubuntu on your drive.

=back

=item * 

Matt Trout's C<cat-install>

Available at L<http://www.shadowcatsystems.co.uk/static/cat-install>,
C<cat-install> can be a quick and painless way to get Catalyst up and
running.  Just download the script from the link above and type C<perl
cat-install>.

=item * 

Chris Laco's CatInABox

Download the tarball from
L<http://handelframework.com/downloads/CatInABox.tar.gz> and unpack it
on your machine.  Depending on your OS platform, either run C<start.bat>
or C<start.sh>.

=item * 

Pre-Built VMWare Images

Under the VMWare community program, work is ongoing to develop a number
of VMWare images where an entire Catalyst development environment has
already been installed, complete with database engines and a full
complement of Catalyst plugins.

=back

For additional information and recommendations on Catalyst installation,
please refer to 
L<Catalyst::Manual::Installation|Catalyst::Manual::Installation>.

B<NOTE:> Step-by-step instructions to replicate the environment on
which this tutorial was developed can be found at
L<Catalyst::Manual::Installation::CentOS4|Catalyst::Manual::Installation::CentOS4>. 
Using these instructions, you should be able to build a complete CentOS
4.X server with Catalyst and all the plugins required to run this
tutorial.

=head1 DATABASES

This tutorial will primarily focus on SQLite because of its simplicity
of installation and use; however, modifications in the script required
to support MySQL and PostgreSQL will be presented in Appendix 2.

B<Note:> One of the advantages of the MVC design patterns is that
applications become much more database independent.  As such, you will
notice that only the C<.sql> files used to initialize the database
change between database systems: the Catalyst code generally remains the
same.

=head1 WHERE TO GET WORKING CODE

Each part of the tutorial has complete code available in the main
Catalyst Subversion repository (see the note at the beginning of each
part for the appropriate svn command to use).  Additionally, the final
code is available as a ready-to-run tarball at
L<http://dev.catalyst.perl.org/repos/Catalyst/trunk/examples/Tutorial/Final_Tarball/MyApp.tgz>.

B<NOTE:> You can run the test cases for the final code with the following 
commands:

    wget http://dev.catalyst.perl.org/repos/Catalyst/trunk/examples/Tutorial/Final_Tarball/MyApp.tgz
    tar zxvf MyApp.tgz
    cd MyApp
    CATALYST_DEBUG=0 prove --lib lib  t


=head1 AUTHOR

Kennedy Clark, C<hkclark@gmail.com>

Please report any errors, issues or suggestions to the author.  The
most recent version of the Catalyst Tutorial can be found at
L<http://dev.catalyst.perl.org/repos/Catalyst/trunk/Catalyst-Manual/lib/Catalyst/Manual/Tutorial/>.

Copyright 2006-2008, Kennedy Clark, under Creative Commons License
(L<http://creativecommons.org/licenses/by-nc-sa/2.5/>).


